---
title: 'CLI Reference'
description: 'Complete reference for delve CLI commands'
---

## Basic Usage

The `delve` CLI provides a simple interface for taxonomy generation:

```bash
delve run DATA_SOURCE [OPTIONS]
```

## Command: run

Generate a taxonomy from a data source and categorize documents.

```bash
delve run DATA_SOURCE [OPTIONS]
```

### Arguments

<ParamField path="DATA_SOURCE" type="string" required>
  Path or URI to your data source. Can be:
  - Path to CSV file (e.g., `data.csv`)
  - Path to JSON/JSONL file (e.g., `data.json`)
  - LangSmith URI (e.g., `langsmith://project-name`)
</ParamField>

## Options

### Data Source Options

<ParamField path="--text-column" type="string">
  Column name containing text data (required for CSV files)

  ```bash
  delve run data.csv --text-column conversation
  ```
</ParamField>

<ParamField path="--id-column" type="string">
  Column name for document IDs (optional). If not specified, auto-generated IDs will be used.

  ```bash
  delve run data.csv --text-column text --id-column doc_id
  ```
</ParamField>

<ParamField path="--json-path" type="string">
  JSONPath expression for extracting text from nested JSON structures.

  ```bash
  delve run data.json --json-path "$.messages[*].content"
  ```

  <Info>
    JSONPath allows you to access nested fields. Example: `$.data[*].attributes.text` extracts text from deeply nested objects.
  </Info>
</ParamField>

<ParamField path="--source-type" type="string" default="auto">
  Force specific data source type. Options: `csv`, `json`, `jsonl`, `langsmith`, `auto`

  ```bash
  delve run data.txt --source-type json
  ```

  By default, Delve auto-detects the source type from file extensions.
</ParamField>

### Model Options

<ParamField path="--model" type="string" default="anthropic/claude-3-5-sonnet-20241022">
  Main LLM model for taxonomy generation and reasoning.

  ```bash
  delve run data.csv --text-column text --model anthropic/claude-opus-4
  ```

  Supported models:
  - `anthropic/claude-3-5-sonnet-20241022` (default)
  - `anthropic/claude-opus-4`
  - Any model supported by LiteLLM
</ParamField>

<ParamField path="--fast-llm" type="string" default="anthropic/claude-3-haiku-20240307">
  Fast LLM model for document summarization.

  ```bash
  delve run data.csv --text-column text --fast-llm anthropic/claude-3-haiku-20240307
  ```

  Use a faster, cheaper model for summarization to reduce costs.
</ParamField>

### Processing Options

<ParamField path="--sample-size" type="integer" default="100">
  Number of documents to sample for taxonomy generation.

  ```bash
  delve run data.csv --text-column text --sample-size 200
  ```

  <Tip>
    Larger samples (200-500) produce more comprehensive taxonomies but take longer and cost more. Start with 100 for quick iterations.
  </Tip>
</ParamField>

<ParamField path="--batch-size" type="integer" default="200">
  Number of documents per minibatch during iterative clustering.

  ```bash
  delve run data.csv --text-column text --batch-size 50
  ```

  <Info>
    Smaller batches (50-100) produce more refined taxonomies through more iterations. Larger batches (200-300) are faster but may be less precise.
  </Info>
</ParamField>

### Output Options

<ParamField path="--output-dir" type="path" default="./results">
  Directory for saving results.

  ```bash
  delve run data.csv --text-column text --output-dir ./my-results
  ```

  Creates the directory if it doesn't exist.
</ParamField>

<ParamField path="--output-format" type="string[]" default="['json', 'csv', 'markdown']">
  Output formats to generate. Can specify multiple times.

  ```bash
  # Only JSON
  delve run data.csv --text-column text --output-format json

  # JSON and CSV
  delve run data.csv --text-column text --output-format json --output-format csv

  # All formats (default)
  delve run data.csv --text-column text --output-format json --output-format csv --output-format markdown
  ```

  Available formats:
  - `json` - Machine-readable taxonomy and labeled documents
  - `csv` - Spreadsheet format for analysis
  - `markdown` - Human-readable reports
</ParamField>

### Customization Options

<ParamField path="--use-case" type="string">
  Custom description of your taxonomy use case. Helps guide the LLM to generate relevant categories.

  ```bash
  delve run data.csv --text-column text \
    --use-case "Categorize customer feedback into product features and sentiment"
  ```

  <Tip>
    Providing a use case improves taxonomy quality by giving the model context about your domain and goals.
  </Tip>
</ParamField>

### LangSmith Options

<ParamField path="--langsmith-key" type="string">
  LangSmith API key for accessing LangSmith data sources.

  ```bash
  delve run langsmith://my-project --langsmith-key $LANGSMITH_API_KEY
  ```

  Can also be set via `LANGSMITH_API_KEY` environment variable.
</ParamField>

<ParamField path="--days" type="integer" default="7">
  Number of days to look back when fetching LangSmith runs.

  ```bash
  delve run langsmith://my-project --langsmith-key $KEY --days 14
  ```
</ParamField>

### Output Control

<ParamField path="-q / -v / -vv" type="verbosity flags">
  Control output verbosity level.

  ```bash
  # Normal (default) - spinners and checkmarks
  delve run data.csv --text-column text

  # Quiet - errors only
  delve run data.csv --text-column text -q

  # Verbose - progress bars with ETA
  delve run data.csv --text-column text -v

  # Debug - everything including internal state
  delve run data.csv --text-column text -vv
  ```

  Levels:
  - No flag: `NORMAL` - Spinners and completion checkmarks
  - `-q`: `QUIET` - Errors only
  - `-v`: `VERBOSE` - Progress bars with throughput-based ETA
  - `-vv`: `DEBUG` - Full debug output including warnings
</ParamField>

## Examples

```bash
# CSV with required text column
delve run data.csv --text-column message

# JSON with JSONPath for nested data
delve run messages.json --json-path "$.conversations[*].text"

# LangSmith project
delve run langsmith://my-project --langsmith-key $LANGSMITH_API_KEY --days 7

# Full configuration example
delve run data.csv \
  --text-column feedback \
  --sample-size 200 \
  --output-dir ./results \
  --use-case "Categorize support tickets by issue type"
```

## Output Files

Delve generates multiple output files in your specified output directory:

```
results/
├── taxonomy.json              # Machine-readable taxonomy with metadata
├── labeled_documents.json     # All documents with assigned categories
├── labeled_data.csv          # Spreadsheet format with categories
├── taxonomy_reference.csv    # Category lookup table
├── report.md                 # Human-readable summary with statistics
└── metadata.json             # Run configuration and metadata
```

### taxonomy.json

Complete taxonomy with category descriptions and metadata:

```json
{
  "taxonomy": [
    {
      "id": "1",
      "name": "Technical Support",
      "description": "Questions about technical issues and troubleshooting"
    },
    {
      "id": "2",
      "name": "Billing Inquiry",
      "description": "Questions about pricing, payments, and invoices"
    }
  ],
  "metadata": {
    "num_documents": 100,
    "num_categories": 5,
    "model": "anthropic/claude-3-5-sonnet-20241022",
    "timestamp": "2024-01-15T10:30:00Z"
  }
}
```

### labeled_data.csv

Spreadsheet format for easy analysis:

```csv
id,content,category,explanation
doc1,"How do I reset my password?","Technical Support","User asking about account recovery"
doc2,"What are your pricing plans?","Billing Inquiry","Question about product pricing"
```

### report.md

Human-readable Markdown report with:
- Taxonomy overview
- Category descriptions
- Document distribution statistics
- Sample documents per category

## Getting Help

```bash
# Get general help
delve --help

# Get help for run command
delve run --help

# Check version
delve --version
```

## Environment Variables

Set these environment variables for easier CLI usage:

```bash
# Required
export ANTHROPIC_API_KEY="your-anthropic-key"

# Optional
export LANGSMITH_API_KEY="your-langsmith-key"
export LITELLM_LOG="DEBUG"  # Enable detailed LLM logging
```

## Next Steps

<CardGroup cols={2}>
  <Card title="SDK Reference" icon="code" href="/sdk-reference">
    Use Delve programmatically
  </Card>
  <Card title="Examples" icon="book" href="/examples">
    See more code examples
  </Card>
</CardGroup>
